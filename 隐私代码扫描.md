# 隐私代码扫描

1. 关键词扫描

   1. 学习pylint flake8 pychecker pyflakes

      1. pylint:

         1. 扫描部分由astroid完成，astroid.parse读入文件

         2. 调用builder.py _parser_string 
      2. parse调用 module.parse
      3. module实际上是ast.py中的compile结论如博客https://blog.csdn.net/weixin_34174422/article/details/93452490
      4. flake8 pyflakes pychecker：同样调用ast.parse
   2. 最终选择ast.parse 编译成python语法树 对树进行遍历进行扫描
      1. （12.15）成果：扫描单个文件查找所有污染的变量名，按照变量名所在行号输出
      2. 下阶段目标：（多读pylint flake 8 寻找可复用
         1. 单个文件内按funcdef分开成为多个子树，分别添加子树中污染变量所涉及到的方法，同时按变量名划分lineno和方法（需要判断方法来源：1.文件内方法2.项目内定义方法 3.原生方法3.外部包方法
         2. 对于外部包定义方法判断其是否是python常用加密库方法或数据库存储方法，项目或文件内定义方法AI判断是否是加密算法（有问题
         3. 扩展到整个项目，扫描多个文件
      
   
2. 污点分析

   1. （12.22）下阶段具体思路:	

      1. 扫描全项目获得所有方法名varName，并记录项目内定义方法名、导入包名，把所有方法名加上完全限定名即包名或文件名；（方法调用关系**

      2. 扫描单个文件，taintMethods中是var:[rigine.methods]的字典。.

      3. （期待  通过不同的文件方法调用关系生成调用图  （复杂 逻辑自己实现 静态

         用变量名标记图 生成可视化效果

         如果后端程序能由单一入口启动并保证覆盖率100%执行，可以简单调用库实现调用图（逻辑简单  未知困难多 动态  可行性较低

      4. **现阶段成果可视化**
         多个文件.func AST字典 变量->func[]  污染行数->变量 
         func[]中选出项目内方法生成调用图
         
         